(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{312:function(e,t,n){"use strict";var r=n(0),i=n(27).find,a=n(95),s=!0;"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},367:function(e,t,n){"use strict";n.r(t);n(68),n(174),n(45),n(46),n(70),n(94),n(9),n(24),n(30);var r=n(63);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}n(312);var a=n(330);function s(e,t){var n=e.name,r=e.texture,s=e.locations,o=(new a.i).load(r);o.mapping=a.a;var c=new a.g;c.background=o;var u,h={locations:[],information:[]},d=i(s);try{var l=function(){var e=u.value,n=t.find((function(t){var n=t.name;return e.name===n})),r=new a.h(1,60,40),i=(new a.i).load(n.texture),s=new a.d({map:i,transparent:!0,opacity:.5}),o=new a.c(r,s);o.position.x=e.position.x,o.position.y=e.position.y,o.position.z=e.position.z,o.rotation.x=e.rotation.x,o.rotation.y=e.rotation.y,o.rotation.z=e.rotation.z,h.locations.push({name:e.name,uuid:o.uuid}),c.add(o)};for(d.s();!(u=d.n()).done;)l()}catch(e){d.e(e)}finally{d.f()}return{name:n,scene:c,targets:h}}var o={name:"VRScene",props:{world:{type:Array,required:!0}},data:function(){return{scenes:[],width:0,height:0,renderer:null,raycaster:null,mouse:null,camera:null,intersects:[],scene:null,sceneName:""}},methods:{updateSize:function(){var e=this.$refs.root.getBoundingClientRect().width;this.width=e,this.height=9*e/16},initScenes:function(){var e=function(e){var t=e.fov,n=e.near,r=e.far,i=e.width,s=e.height,o=e.pixelRatio,c=i/s,u=new a.e(t,c,n,r),h=new a.l({antialias:!0});return h.setPixelRatio(o),h.setSize(i,s),h.xr.enabled=!0,h.xr.setReferenceSpaceType("local"),{camera:u,renderer:h,raycaster:new a.f,mouse:new a.j}}({fov:75,near:1,far:1100,width:this.width,height:this.height,pixelRatio:window.devicePixelRatio}),t=e.camera,n=e.renderer,r=e.raycaster,o=e.mouse;this.renderer=n,this.raycaster=r,this.mouse=o,this.camera=t,this.$refs.renderer.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(this.render);var c,u=i(this.world);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.texture.startsWith("/")&&!h.texture.startsWith(this.$site.base)&&(h.texture=this.$site.base+h.texture.substring(1)),this.scenes.push(s(h,this.world))}}catch(e){u.e(e)}finally{u.f()}this.scene=this.scenes[0].scene,this.sceneName=this.scenes[0].name},render:function(){this.raycaster.setFromCamera(this.mouse,this.camera),this.intersects=this.raycaster.intersectObjects(this.scene.children),this.renderer.render(this.scene,this.camera)}},mounted:function(){this.updateSize(),this.initScenes()}},c=n(41),u=Object(c.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"root",staticClass:"vr container"},[t("div",{ref:"renderer",staticClass:"vr renderer"})])}),[],!1,null,"5c639138",null);t.default=u.exports}}]);